"use strict";(self.webpackChunksea_ql_blog=self.webpackChunksea_ql_blog||[]).push([[4845],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>c});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),m=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},p=function(e){var t=m(e.components);return n.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=m(a),c=r,h=d["".concat(s,".").concat(c)]||d[c]||u[c]||i;return a?n.createElement(h,o(o({ref:t},p),{},{components:a})):n.createElement(h,o({ref:t},p))}));function c(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var m=2;m<i;m++)o[m]=a[m];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},6367:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>l,toc:()=>m});var n=a(7462),r=(a(7294),a(3905));const i={slug:"2023-07-11-whats-new-in-seaorm-0.12.0",title:"What's new in SeaORM 0.12.0",author:"SeaQL Team",author_title:"Chris Tsang",author_url:"https://github.com/SeaQL",author_image_url:"https://www.sea-ql.org/SeaORM/img/SeaQL.png",tags:["news"]},o=void 0,l={permalink:"/preview/pr-100/blog/2023-07-11-whats-new-in-seaorm-0.12.0",editUrl:"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2023-07-11-whats-new-in-seaorm-0.12.0.md",source:"@site/blog/2023-07-11-whats-new-in-seaorm-0.12.0.md",title:"What's new in SeaORM 0.12.0",description:"\ud83c\udf89 We are pleased to release SeaORM 0.12.0!",date:"2023-07-11T00:00:00.000Z",formattedDate:"July 11, 2023",tags:[{label:"news",permalink:"/preview/pr-100/blog/tags/news"}],readingTime:8.615,hasTruncateMarker:!1,authors:[{name:"SeaQL Team",title:"Chris Tsang",url:"https://github.com/SeaQL",imageURL:"https://www.sea-ql.org/SeaORM/img/SeaQL.png"}],frontMatter:{slug:"2023-07-11-whats-new-in-seaorm-0.12.0",title:"What's new in SeaORM 0.12.0",author:"SeaQL Team",author_title:"Chris Tsang",author_url:"https://github.com/SeaQL",author_image_url:"https://www.sea-ql.org/SeaORM/img/SeaQL.png",tags:["news"]},nextItem:{title:"Introducing SeaStreamer \ud83c\udf0a",permalink:"/preview/pr-100/blog/2023-04-03-intro-sea-streamer"}},s={authorsImageUrls:[void 0]},m=[{value:"<code>DeriveValueType</code> for Custom Wrapper Type",id:"derivevaluetype-for-custom-wrapper-type",level:2},{value:"<code>DerivePartialModel</code> for Querying Partial Model",id:"derivepartialmodel-for-querying-partial-model",level:2},{value:"<code>DeriveDisplay</code> for Active Enum",id:"derivedisplay-for-active-enum",level:2},{value:"Matching Common Database Errors",id:"matching-common-database-errors",level:2},{value:"Find with Linked API",id:"find-with-linked-api",level:2},{value:"Helper Methods to Append Select Expression",id:"helper-methods-to-append-select-expression",level:2},{value:"Construct Chained AND / OR Join On Condition",id:"construct-chained-and--or-join-on-condition",level:2},{value:"<code>DeriveEntityRelated</code> for Seaography to Query Related Entity",id:"deriveentityrelated-for-seaography-to-query-related-entity",level:2},{value:"Supports <code>default_expr</code> in <code>DeriveEntityModel</code>",id:"supports-default_expr-in-deriveentitymodel",level:2},{value:"<code>ConnAcquireErr</code> for Fine Grained Connection Error",id:"connacquireerr-for-fine-grained-connection-error",level:2},{value:"Upgrades",id:"upgrades",level:2},{value:"Breaking Changes",id:"breaking-changes",level:2},{value:"SeaORM Enhancements",id:"seaorm-enhancements",level:2},{value:"CLI Enhancements",id:"cli-enhancements",level:2},{value:"Integration Examples",id:"integration-examples",level:2},{value:"Sponsor",id:"sponsor",level:2},{value:"What&#39;s Next?",id:"whats-next",level:2}],p={toc:m};function u(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"\ud83c\udf89 We are pleased to release SeaORM ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/SeaQL/sea-orm/releases/tag/0.12.0"},(0,r.kt)("inlineCode",{parentName:"a"},"0.12.0")),"!"),(0,r.kt)("h2",{id:"derivevaluetype-for-custom-wrapper-type"},(0,r.kt)("inlineCode",{parentName:"h2"},"DeriveValueType")," for Custom Wrapper Type"),(0,r.kt)("p",null,"[",(0,r.kt)("a",{parentName:"p",href:"https://github.com/SeaQL/sea-orm/pull/1720"},"#1720"),"] ",(0,r.kt)("inlineCode",{parentName:"p"},"DeriveValueType")," derive macro will implements the required traits of custom wrapper type."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-rust"},'// You can customize the `column_type` and `array_type` if needed\n#[derive(DeriveValueType)]\n#[sea_orm(array_type = "Int")]\npub struct Integer(i32);\n\n#[derive(DeriveValueType)]\n#[sea_orm(column_type = "Boolean", array_type = "Bool")]\npub struct Boolbean(pub String);\n\n// Or, leave it as default\n\n#[derive(DeriveValueType)]\npub struct StringVec(pub Vec<String>);\n\n// The `DeriveValueType` will be expanded into...\n\nimpl From<StringVec> for Value {\n    fn from(source: StringVec) -> Self {\n        source.0.into()\n    }\n}\n\nimpl sea_orm::TryGetable for StringVec {\n    fn try_get_by<I: sea_orm::ColIdx>(res: &QueryResult, idx: I) -> Result<Self, sea_orm::TryGetError> {\n        <Vec<String> as sea_orm::TryGetable>::try_get_by(res, idx).map(|v| StringVec(v))\n    }\n}\n\nimpl sea_orm::sea_query::ValueType for StringVec {\n    fn try_from(v: Value) -> Result<Self, sea_orm::sea_query::ValueTypeErr> {\n        <Vec<String> as sea_orm::sea_query::ValueType>::try_from(v).map(|v| StringVec(v))\n    }\n\n    fn type_name() -> String {\n        stringify!(StringVec).to_owned()\n    }\n\n    fn array_type() -> sea_orm::sea_query::ArrayType {\n        std::convert::Into::<sea_orm::sea_query::ArrayType>::into(\n            <Vec<String> as sea_orm::sea_query::ValueType>::array_type()\n        )\n    }\n\n    fn column_type() -> sea_orm::sea_query::ColumnType {\n        std::convert::Into::<sea_orm::sea_query::ColumnType>::into(\n            <Vec<String> as sea_orm::sea_query::ValueType>::column_type()\n        )\n    }\n}\n')),(0,r.kt)("h2",{id:"derivepartialmodel-for-querying-partial-model"},(0,r.kt)("inlineCode",{parentName:"h2"},"DerivePartialModel")," for Querying Partial Model"),(0,r.kt)("p",null,"[",(0,r.kt)("a",{parentName:"p",href:"https://github.com/SeaQL/sea-orm/pull/1597"},"#1597"),"] ",(0,r.kt)("inlineCode",{parentName:"p"},"DerivePartialModel")," derive macro helps you query partial model. You can customize the field mapping with ",(0,r.kt)("inlineCode",{parentName:"p"},"from_col")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"from_expr")," attributes."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-rust"},'#[derive(DerivePartialModel, FromQueryResult)]\n#[sea_orm(entity = "Cake")]\nstruct PartialCake {\n    name: String,\n    #[sea_orm(from_expr = r#"SimpleExpr::FunctionCall(Func::upper(Expr::col((Cake, cake::Column::Name))))"#)]\n    name_upper: String,\n}\n\nassert_eq!(\n    cake::Entity::find()\n        .into_partial_model::<PartialCake>()\n        .into_statement(DbBackend::Sqlite)\n        .to_string(),\n    r#"SELECT "cake"."name", UPPER("cake"."name") AS "name_upper" FROM "cake""#\n);\n')),(0,r.kt)("h2",{id:"derivedisplay-for-active-enum"},(0,r.kt)("inlineCode",{parentName:"h2"},"DeriveDisplay")," for Active Enum"),(0,r.kt)("p",null,"[",(0,r.kt)("a",{parentName:"p",href:"https://github.com/SeaQL/sea-orm/pull/1726"},"#1726"),"] Add ",(0,r.kt)("inlineCode",{parentName:"p"},"DeriveDisplay")," derive macro to implements ",(0,r.kt)("inlineCode",{parentName:"p"},"std::fmt::Display")," for active enum."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-rust"},'// String enum\n#[derive(EnumIter, DeriveActiveEnum, DeriveDisplay)]\n#[sea_orm(rs_type = "String", db_type = "String(Some(1))", enum_name = "category")]\npub enum DeriveCategory {\n    #[sea_orm(string_value = "B")]\n    Big,\n    #[sea_orm(string_value = "S")]\n    Small,\n}\nassert_eq!(format!("{}", DeriveCategory::Big), "Big");\nassert_eq!(format!("{}", DeriveCategory::Small), "Small");\n\n// Numeric enum\n#[derive(EnumIter, DeriveActiveEnum, DeriveDisplay)]\n#[sea_orm(rs_type = "i32", db_type = "Integer")]\npub enum $ident {\n    #[sea_orm(num_value = -10)]\n    Negative,\n    #[sea_orm(num_value = 1)]\n    Big,\n    #[sea_orm(num_value = 0)]\n    Small,\n}\nassert_eq!(format!("{}", $ident::Big), "Big");\nassert_eq!(format!("{}", $ident::Small), "Small");\nassert_eq!(format!("{}", $ident::Negative), "Negative");\n\n// String enum with `display_value` overrides\n#[derive(EnumIter, DeriveActiveEnum, DeriveDisplay)]\n#[sea_orm(rs_type = "String", db_type = "Enum", enum_name = "tea")]\npub enum DisplayTea {\n    #[sea_orm(string_value = "EverydayTea", display_value = "Everyday")]\n    EverydayTea,\n    #[sea_orm(string_value = "BreakfastTea", display_value = "Breakfast")]\n    BreakfastTea,\n}\nassert_eq!(format!("{}", DisplayTea::BreakfastTea), "Breakfast");\nassert_eq!(format!("{}", DisplayTea::EverydayTea), "Everyday");\n')),(0,r.kt)("h2",{id:"matching-common-database-errors"},"Matching Common Database Errors"),(0,r.kt)("p",null,"[",(0,r.kt)("a",{parentName:"p",href:"https://github.com/SeaQL/sea-orm/pull/1707"},"#1707"),"] Add ",(0,r.kt)("inlineCode",{parentName:"p"},"DbErr::sql_err()")," method to convert error into common database errors ",(0,r.kt)("inlineCode",{parentName:"p"},"SqlErr"),", such as unique constraint or foreign key violation errors."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-rust"},'assert!(matches!(\n    cake\n        .into_active_model()\n        .insert(db)\n        .await\n        .expect_err("Insert a row with duplicated primary key")\n        .sql_err(),\n    Some(SqlErr::UniqueConstraintViolation(_))\n));\n\nassert!(matches!(\n    fk_cake\n        .insert(db)\n        .await\n        .expect_err("Insert a row with invalid foreign key")\n        .sql_err(),\n    Some(SqlErr::ForeignKeyConstraintViolation(_))\n));\n')),(0,r.kt)("h2",{id:"find-with-linked-api"},"Find with Linked API"),(0,r.kt)("p",null,"[",(0,r.kt)("a",{parentName:"p",href:"https://github.com/SeaQL/sea-orm/pull/1728"},"#1728"),"], [",(0,r.kt)("a",{parentName:"p",href:"https://github.com/SeaQL/sea-orm/pull/1743"},"#1743"),"] Add ",(0,r.kt)("inlineCode",{parentName:"p"},"Select::find_with_linked")," method, similar to the ",(0,r.kt)("inlineCode",{parentName:"p"},"find_with_related")," method."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-rust"},"fn find_with_related<R>(self, r: R) -> SelectTwoMany<E, R>\nwhere \n    R: EntityTrait,\n    E: Related<R>\n\nfn find_with_linked<L, T>(self, l: L) -> SelectTwoMany<E, T>\nwhere\n    L: Linked<FromEntity = E, ToEntity = T>,\n    T: EntityTrait\n\n// both yields `Vec<(E::Model, Vec<F::Model>)>`\n")),(0,r.kt)("h2",{id:"helper-methods-to-append-select-expression"},"Helper Methods to Append Select Expression"),(0,r.kt)("p",null,"[",(0,r.kt)("a",{parentName:"p",href:"https://github.com/SeaQL/sea-orm/pull/1702"},"#1702"),"] Add ",(0,r.kt)("inlineCode",{parentName:"p"},"expr"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"exprs")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"expr_as")," methods to ",(0,r.kt)("inlineCode",{parentName:"p"},"QuerySelect")," trait."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-rust"},'use sea_orm::sea_query::Expr;\nuse sea_orm::{entity::*, tests_cfg::cake, DbBackend, QuerySelect, QueryTrait};\n\nassert_eq!(\n    cake::Entity::find()\n        .select_only()\n        .expr(Expr::col((cake::Entity, cake::Column::Id)))\n        .build(DbBackend::MySql)\n        .to_string(),\n    "SELECT `cake`.`id` FROM `cake`"\n);\n\nassert_eq!(\n    cake::Entity::find()\n        .select_only()\n        .exprs([\n            Expr::col((cake::Entity, cake::Column::Id)),\n            Expr::col((cake::Entity, cake::Column::Name)),\n        ])\n        .build(DbBackend::MySql)\n        .to_string(),\n    "SELECT `cake`.`id`, `cake`.`name` FROM `cake`"\n);\n\nassert_eq!(\n    cake::Entity::find()\n        .expr_as(\n            Func::upper(Expr::col((cake::Entity, cake::Column::Name))),\n            "name_upper"\n        )\n        .build(DbBackend::MySql)\n        .to_string(),\n    "SELECT `cake`.`id`, `cake`.`name`, UPPER(`cake`.`name`) AS `name_upper` FROM `cake`"\n);\n')),(0,r.kt)("h2",{id:"construct-chained-and--or-join-on-condition"},"Construct Chained AND / OR Join On Condition"),(0,r.kt)("p",null,"[",(0,r.kt)("a",{parentName:"p",href:"https://github.com/SeaQL/sea-orm/pull/1433"},"#1433"),"] Added option to construct chained AND / OR join on condition."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-rust"},'use sea_orm::entity::prelude::*;\n\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\n#[sea_orm(table_name = "cake")]\npub struct Model {\n    #[sea_orm(primary_key)]\n    pub id: i32,\n    #[sea_orm(column_name = "name", enum_name = "Name")]\n    pub name: String,\n}\n\n#[derive(Copy, Clone, Debug, EnumIter, DeriveRelation)]\npub enum Relation {\n    // By default, it\'s\n    // `JOIN `fruit` ON `cake`.`id` = `fruit`.`cake_id` AND `fruit`.`name` LIKE \'%tropical%\'`\n    #[sea_orm(\n        has_many = "super::fruit::Entity",\n        on_condition = r#"super::fruit::Column::Name.like("%tropical%")"#\n    )]\n    TropicalFruit,\n    // Or specify `condition_type = "any"` to override it,\n    // `JOIN `fruit` ON `cake`.`id` = `fruit`.`cake_id` OR `fruit`.`name` LIKE \'%tropical%\'`\n    #[sea_orm(\n        has_many = "super::fruit::Entity",\n        on_condition = r#"super::fruit::Column::Name.like("%tropical%")"#\n        condition_type = "any",\n    )]\n    OrTropicalFruit,\n}\n\nimpl ActiveModelBehavior for ActiveModel {}\n')),(0,r.kt)("h2",{id:"deriveentityrelated-for-seaography-to-query-related-entity"},(0,r.kt)("inlineCode",{parentName:"h2"},"DeriveEntityRelated")," for Seaography to Query Related Entity"),(0,r.kt)("p",null,"[",(0,r.kt)("a",{parentName:"p",href:"https://github.com/SeaQL/sea-orm/pull/1599"},"#1599"),"] The ",(0,r.kt)("inlineCode",{parentName:"p"},"DeriveRelatedEntity")," derive macro will implement ",(0,r.kt)("inlineCode",{parentName:"p"},"seaography::RelationBuilder")," for ",(0,r.kt)("inlineCode",{parentName:"p"},"RelatedEntity")," enumeration when the ",(0,r.kt)("inlineCode",{parentName:"p"},"seaography")," feature is enabled."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-rust"},'/// ... Entity File ...\n\n#[derive(Copy, Clone, Debug, EnumIter, DeriveRelatedEntity)]\npub enum RelatedEntity {\n    #[sea_orm(entity = "super::address::Entity")]\n    Address,\n    #[sea_orm(entity = "super::payment::Entity")]\n    Payment,\n    #[sea_orm(entity = "super::rental::Entity")]\n    Rental,\n    #[sea_orm(entity = "Entity", def = "Relation::SelfRef.def()")]\n    SelfRef,\n    #[sea_orm(entity = "super::store::Entity")]\n    Store,\n    #[sea_orm(entity = "Entity", def = "Relation::SelfRef.def().rev()")]\n    SelfRefRev,\n}\n')),(0,r.kt)("h2",{id:"supports-default_expr-in-deriveentitymodel"},"Supports ",(0,r.kt)("inlineCode",{parentName:"h2"},"default_expr")," in ",(0,r.kt)("inlineCode",{parentName:"h2"},"DeriveEntityModel")),(0,r.kt)("p",null,"[",(0,r.kt)("a",{parentName:"p",href:"https://github.com/SeaQL/sea-orm/pull/1474"},"#1474"),"] You can now set ",(0,r.kt)("inlineCode",{parentName:"p"},"default_expr")," in model."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-rust"},'#[derive(DeriveEntityModel)]\n#[sea_orm(table_name = "hello")]\npub struct Model {\n    #[sea_orm(default_expr = "Expr::current_timestamp()")]\n    pub timestamp: DateTimeUtc,\n}\n\nassert_eq!(\n    Column::Timestamp.def(),\n    ColumnType::TimestampWithTimeZone.def().default(Expr::current_timestamp())\n);\n')),(0,r.kt)("h2",{id:"connacquireerr-for-fine-grained-connection-error"},(0,r.kt)("inlineCode",{parentName:"h2"},"ConnAcquireErr")," for Fine Grained Connection Error"),(0,r.kt)("p",null,"[",(0,r.kt)("a",{parentName:"p",href:"https://github.com/SeaQL/sea-orm/pull/1737"},"#1737"),"] Definition of ",(0,r.kt)("inlineCode",{parentName:"p"},"DbErr::ConnectionAcquire")," changed to ",(0,r.kt)("inlineCode",{parentName:"p"},"ConnectionAcquire(ConnAcquireErr)"),", providing more fine grained connection error."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-rust"},"enum DbErr {\n    ConnectionAcquire(ConnAcquireErr),\n    ..\n}\n\nenum ConnAcquireErr {\n    Timeout,\n    ConnectionClosed,\n}\n")),(0,r.kt)("h2",{id:"upgrades"},"Upgrades"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"[",(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1520"},"#1520"),"], [",(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1544"},"#1544"),"] Upgrade ",(0,r.kt)("inlineCode",{parentName:"li"},"heck")," dependency in ",(0,r.kt)("inlineCode",{parentName:"li"},"sea-orm-macros")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"sea-orm-codegen")," to 0.4"),(0,r.kt)("li",{parentName:"ul"},"[",(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1752"},"#1752"),"] Upgrade ",(0,r.kt)("inlineCode",{parentName:"li"},"strum")," to 0.25"),(0,r.kt)("li",{parentName:"ul"},"[",(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1562"},"#1562"),"] Upgrade ",(0,r.kt)("inlineCode",{parentName:"li"},"sea-query")," to 0.29"),(0,r.kt)("li",{parentName:"ul"},"[",(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1562"},"#1562"),"] Upgrade ",(0,r.kt)("inlineCode",{parentName:"li"},"sea-query-binder")," to 0.4"),(0,r.kt)("li",{parentName:"ul"},"[",(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1562"},"#1562"),"] Upgrade ",(0,r.kt)("inlineCode",{parentName:"li"},"sea-schema")," to 0.12"),(0,r.kt)("li",{parentName:"ul"},"[",(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1468"},"#1468"),"] Upgrade ",(0,r.kt)("inlineCode",{parentName:"li"},"clap")," to 4.3"),(0,r.kt)("li",{parentName:"ul"},"[",(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1742"},"#1742"),"] Upgrade ",(0,r.kt)("inlineCode",{parentName:"li"},"sqlx")," to 0.7"),(0,r.kt)("li",{parentName:"ul"},"[",(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1739"},"#1739"),"] Replace ",(0,r.kt)("inlineCode",{parentName:"li"},"bae")," with ",(0,r.kt)("inlineCode",{parentName:"li"},"sea-bae"))),(0,r.kt)("h2",{id:"breaking-changes"},"Breaking Changes"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"[",(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1513"},"#1513"),"] Supports for partial select of ",(0,r.kt)("inlineCode",{parentName:"li"},"Option<T>")," model field. A ",(0,r.kt)("inlineCode",{parentName:"li"},"None")," value will be filled when the select result does not contain the ",(0,r.kt)("inlineCode",{parentName:"li"},"Option<T>")," field instead of throwing an error."),(0,r.kt)("li",{parentName:"ul"},"[",(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1535"},"#1535"),"] Replaced ",(0,r.kt)("inlineCode",{parentName:"li"},"sea-strum")," dependency with upstream ",(0,r.kt)("inlineCode",{parentName:"li"},"strum")," in ",(0,r.kt)("inlineCode",{parentName:"li"},"sea-orm"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Added ",(0,r.kt)("inlineCode",{parentName:"li"},"derive")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"strum")," features to ",(0,r.kt)("inlineCode",{parentName:"li"},"sea-orm-macros")),(0,r.kt)("li",{parentName:"ul"},"The derive macro ",(0,r.kt)("inlineCode",{parentName:"li"},"EnumIter")," is now shipped by ",(0,r.kt)("inlineCode",{parentName:"li"},"sea-orm-macros")))),(0,r.kt)("li",{parentName:"ul"},"[",(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1508"},"#1508"),"] Added a new variant ",(0,r.kt)("inlineCode",{parentName:"li"},"Many")," to ",(0,r.kt)("inlineCode",{parentName:"li"},"Identity")),(0,r.kt)("li",{parentName:"ul"},"[",(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1661"},"#1661"),"] Replace the use of ",(0,r.kt)("inlineCode",{parentName:"li"},"SeaRc<T>")," where ",(0,r.kt)("inlineCode",{parentName:"li"},"T")," isn't ",(0,r.kt)("inlineCode",{parentName:"li"},"dyn Iden")," with ",(0,r.kt)("inlineCode",{parentName:"li"},"RcOrArc<T>")),(0,r.kt)("li",{parentName:"ul"},"[",(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1728"},"#1728"),"], [",(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1743"},"#1743"),"] Enabled ",(0,r.kt)("inlineCode",{parentName:"li"},"hashable-value")," feature in SeaQuery, thus ",(0,r.kt)("inlineCode",{parentName:"li"},"Value::Float(NaN) == Value::Float(NaN)")," would be true"),(0,r.kt)("li",{parentName:"ul"},"[",(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1726"},"#1726"),"] The ",(0,r.kt)("inlineCode",{parentName:"li"},"DeriveActiveEnum")," derive macro no longer provide ",(0,r.kt)("inlineCode",{parentName:"li"},"std::fmt::Display")," implementation for the enum. You need to derive an extra ",(0,r.kt)("inlineCode",{parentName:"li"},"DeriveDisplay")," macro alongside with ",(0,r.kt)("inlineCode",{parentName:"li"},"DeriveActiveEnum")," derive macro."),(0,r.kt)("li",{parentName:"ul"},"[",(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1737"},"#1737"),"] Definition of ",(0,r.kt)("inlineCode",{parentName:"li"},"DbErr::ConnectionAcquire")," changed to ",(0,r.kt)("inlineCode",{parentName:"li"},"ConnectionAcquire(ConnAcquireErr)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"FromJsonQueryResult")," removed from entity prelude"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"sea-query/derive")," is no longer enabled by ",(0,r.kt)("inlineCode",{parentName:"li"},"sea-orm"),", as such, ",(0,r.kt)("inlineCode",{parentName:"li"},"Iden")," no longer works as a derive macro (it's still a trait). Instead, we are shipping a new macro ",(0,r.kt)("inlineCode",{parentName:"li"},"DeriveIden"),":")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-rust"},'// then:\n\n#[derive(Iden)]\n#[iden = "category"]\npub struct CategoryEnum;\n\n#[derive(Iden)]\npub enum Tea {\n    Table,\n    #[iden = "EverydayTea"]\n    EverydayTea,\n}\n\n// now:\n\n#[derive(DeriveIden)]\n#[sea_orm(iden = "category")]\npub struct CategoryEnum;\n\n#[derive(DeriveIden)]\npub enum Tea {\n    Table,\n    #[sea_orm(iden = "EverydayTea")]\n    EverydayTea,\n}\n')),(0,r.kt)("h2",{id:"seaorm-enhancements"},"SeaORM Enhancements"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"[",(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1513"},"#1513"),"] Supports for partial select of ",(0,r.kt)("inlineCode",{parentName:"li"},"Option<T>")," model field. A ",(0,r.kt)("inlineCode",{parentName:"li"},"None")," value will be filled when the select result does not contain the ",(0,r.kt)("inlineCode",{parentName:"li"},"Option<T>")," field without throwing an error."),(0,r.kt)("li",{parentName:"ul"},"[",(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1508"},"#1508"),"] Supports entity with composite primary key of length 12"),(0,r.kt)("li",{parentName:"ul"},"[",(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1599"},"#1599"),"] Add generation of ",(0,r.kt)("inlineCode",{parentName:"li"},"seaography")," related information to ",(0,r.kt)("inlineCode",{parentName:"li"},"sea-orm-codegen")),(0,r.kt)("li",{parentName:"ul"},"[",(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1519"},"#1519"),"] Added ",(0,r.kt)("inlineCode",{parentName:"li"},"Migration::name()")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"Migration::status()")," getters for the name and status of ",(0,r.kt)("inlineCode",{parentName:"li"},"sea_orm_migration::Migration")),(0,r.kt)("li",{parentName:"ul"},"[",(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1565"},"#1565"),"] The ",(0,r.kt)("inlineCode",{parentName:"li"},"postgres-array")," feature will be enabled when ",(0,r.kt)("inlineCode",{parentName:"li"},"sqlx-postgres")," backend is selected"),(0,r.kt)("li",{parentName:"ul"},"[",(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1439"},"#1439"),"] Replace ",(0,r.kt)("inlineCode",{parentName:"li"},"String")," parameters in API with ",(0,r.kt)("inlineCode",{parentName:"li"},"Into<String>")),(0,r.kt)("li",{parentName:"ul"},"[",(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1661"},"#1661"),"] Re-export ",(0,r.kt)("inlineCode",{parentName:"li"},"sea_query::{DynIden, RcOrArc, SeaRc}")," in ",(0,r.kt)("inlineCode",{parentName:"li"},"sea_orm::entity::prelude")," module"),(0,r.kt)("li",{parentName:"ul"},"[",(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1627"},"#1627"),"] Added ",(0,r.kt)("inlineCode",{parentName:"li"},"DatabaseConnection::ping")),(0,r.kt)("li",{parentName:"ul"},"[",(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1708"},"#1708"),"] Added ",(0,r.kt)("inlineCode",{parentName:"li"},"TryInsert")," that does not panic on empty inserts"),(0,r.kt)("li",{parentName:"ul"},"[",(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1712"},"#1712"),"] On conflict do nothing not resulting in Err"),(0,r.kt)("li",{parentName:"ul"},"[",(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1677"},"#1677"),"] Added ",(0,r.kt)("inlineCode",{parentName:"li"},"UpdateMany::exec_with_returning()"))),(0,r.kt)("h2",{id:"cli-enhancements"},"CLI Enhancements"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"[",(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1334"},"#1334"),"] The ",(0,r.kt)("inlineCode",{parentName:"li"},"migrate init")," command will create a ",(0,r.kt)("inlineCode",{parentName:"li"},".gitignore")," file when the migration folder reside in a Git repository"),(0,r.kt)("li",{parentName:"ul"},"[",(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1570"},"#1570"),"] Added support for generating migration of space separated name, for example executing ",(0,r.kt)("inlineCode",{parentName:"li"},'sea-orm-cli migrate generate "create accounts table"')," command will create ",(0,r.kt)("inlineCode",{parentName:"li"},"m20230503_000000_create_accounts_table.rs")," for you"),(0,r.kt)("li",{parentName:"ul"},"[",(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1511"},"#1511"),"] Added ",(0,r.kt)("inlineCode",{parentName:"li"},"MigratorTrait::migration_table_name()")," method to configure the name of migration table")),(0,r.kt)("h2",{id:"integration-examples"},"Integration Examples"),(0,r.kt)("p",null,"SeaORM plays well with the other crates in the async ecosystem. We maintain an array of example projects for building REST, GraphQL and gRPC services. More examples ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/SeaQL/sea-orm/issues/269"},"wanted"),"!"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/tree/master/examples/actix_example"},"Actix v4 Example")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/tree/master/examples/actix3_example"},"Actix v3 Example")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/tree/master/examples/axum_example"},"Axum Example")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/tree/master/examples/graphql_example"},"GraphQL Example")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/tree/master/examples/jsonrpsee_example"},"jsonrpsee Example")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/tree/master/examples/poem_example"},"Poem Example")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/tree/master/examples/rocket_example"},"Rocket Example")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/tree/master/examples/salvo_example"},"Salvo Example")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/tree/master/examples/tonic_example"},"Tonic Example"))),(0,r.kt)("h2",{id:"sponsor"},"Sponsor"),(0,r.kt)("p",null,"Our ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/sponsors/SeaQL"},"GitHub Sponsor")," profile is up! SeaQL.org is an independent open-source organization run by passionate developers. If you enjoy using SeaORM, please star and share our repositories. If you feel generous, a small donation will be greatly appreciated, and goes a long way towards sustaining the project."),(0,r.kt)("p",null,"A big shout out to our sponsors \ud83d\ude07:"),(0,r.kt)("div",{class:"row"},(0,r.kt)("div",{class:"col col--6 margin-bottom--md"},(0,r.kt)("div",{class:"avatar"},(0,r.kt)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/shanesveller"},(0,r.kt)("img",{src:"https://avatars.githubusercontent.com/u/831?v=4"})),(0,r.kt)("div",{class:"avatar__intro"},(0,r.kt)("div",{class:"avatar__name"},"Shane Sveller")))),(0,r.kt)("div",{class:"col col--6 margin-bottom--md"},(0,r.kt)("div",{class:"avatar"},(0,r.kt)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/Sytten"},(0,r.kt)("img",{src:"https://avatars.githubusercontent.com/u/2366731?v=4"})),(0,r.kt)("div",{class:"avatar__intro"},(0,r.kt)("div",{class:"avatar__name"},"\xc9mile Fugulin")))),(0,r.kt)("div",{class:"col col--6 margin-bottom--md"},(0,r.kt)("div",{class:"avatar"},(0,r.kt)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/tugascript"},(0,r.kt)("img",{src:"https://avatars.githubusercontent.com/u/64930104?v=4"})),(0,r.kt)("div",{class:"avatar__intro"},(0,r.kt)("div",{class:"avatar__name"},"Afonso Barracha")))),(0,r.kt)("div",{class:"col col--6 margin-bottom--md"},(0,r.kt)("div",{class:"avatar"},(0,r.kt)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/trueb2"},(0,r.kt)("img",{src:"https://avatars.githubusercontent.com/u/8592049?v=4"})),(0,r.kt)("div",{class:"avatar__intro"},(0,r.kt)("div",{class:"avatar__name"},"Jacob Trueb")))),(0,r.kt)("div",{class:"col col--6 margin-bottom--md"},(0,r.kt)("div",{class:"avatar"},(0,r.kt)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/siketyan"},(0,r.kt)("img",{src:"https://avatars.githubusercontent.com/u/12772118?v=4"})),(0,r.kt)("div",{class:"avatar__intro"},(0,r.kt)("div",{class:"avatar__name"},"Natsuki Ikeguchi")))),(0,r.kt)("div",{class:"col col--6 margin-bottom--md"},(0,r.kt)("div",{class:"avatar"},(0,r.kt)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/mmuellersoppart"},(0,r.kt)("img",{src:"https://avatars.githubusercontent.com/u/16762461?v=4"})),(0,r.kt)("div",{class:"avatar__intro"},(0,r.kt)("div",{class:"avatar__name"},"Marlon Mueller-Soppart")))),(0,r.kt)("div",{class:"col col--6 margin-bottom--md"},(0,r.kt)("div",{class:"avatar"},(0,r.kt)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/kallydev"},(0,r.kt)("img",{src:"https://avatars.githubusercontent.com/u/36319157?v=4"})),(0,r.kt)("div",{class:"avatar__intro"},(0,r.kt)("div",{class:"avatar__name"},"KallyDev")))),(0,r.kt)("div",{class:"col col--6 margin-bottom--md"},(0,r.kt)("div",{class:"avatar"},(0,r.kt)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/deansheather"},(0,r.kt)("img",{src:"https://avatars.githubusercontent.com/u/11241812?v=4"})),(0,r.kt)("div",{class:"avatar__intro"},(0,r.kt)("div",{class:"avatar__name"},"Dean Sheather")))),(0,r.kt)("div",{class:"col col--6 margin-bottom--md"},(0,r.kt)("div",{class:"avatar"},(0,r.kt)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/manfredcml"},(0,r.kt)("img",{src:"https://avatars.githubusercontent.com/u/27536502?v=4"})),(0,r.kt)("div",{class:"avatar__intro"},(0,r.kt)("div",{class:"avatar__name"},"Manfred Lee")))),(0,r.kt)("div",{class:"col col--6 margin-bottom--md"},(0,r.kt)("div",{class:"avatar"},(0,r.kt)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/rgoracz"},(0,r.kt)("img",{src:"https://avatars.githubusercontent.com/u/6758092?v=4"})),(0,r.kt)("div",{class:"avatar__intro"},(0,r.kt)("div",{class:"avatar__name"},"Roland Gor\xe1cz")))),(0,r.kt)("div",{class:"col col--6 margin-bottom--md"},(0,r.kt)("div",{class:"avatar"},(0,r.kt)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/Iceapinan"},(0,r.kt)("img",{src:"https://avatars.githubusercontent.com/u/2698243?v=4"})),(0,r.kt)("div",{class:"avatar__intro"},(0,r.kt)("div",{class:"avatar__name"},"IceApinan")))),(0,r.kt)("div",{class:"col col--6 margin-bottom--md"},(0,r.kt)("div",{class:"avatar"},(0,r.kt)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/reneklacan"},(0,r.kt)("img",{src:"https://avatars.githubusercontent.com/u/1935686?v=4"})),(0,r.kt)("div",{class:"avatar__intro"},(0,r.kt)("div",{class:"avatar__name"},"Ren\xe9 Kla\u010dan")))),(0,r.kt)("div",{class:"col col--6 margin-bottom--md"},(0,r.kt)("div",{class:"avatar"},(0,r.kt)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm"},(0,r.kt)("img",{style:{width:"100%"},src:"data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw=="})),(0,r.kt)("div",{class:"avatar__intro"},(0,r.kt)("div",{class:"avatar__name"},"Unnamed Sponsor"))))),(0,r.kt)("h2",{id:"whats-next"},"What's Next?"),(0,r.kt)("p",null,"SeaQL is a community driven project. We welcome you to participate, contribute and build together for Rust's future."),(0,r.kt)("p",null,"Here is the roadmap for SeaORM ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/SeaQL/sea-orm/milestone/13"},(0,r.kt)("inlineCode",{parentName:"a"},"0.13.x")),"."))}u.isMDXComponent=!0}}]);